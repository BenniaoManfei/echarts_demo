<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>饼图+环形饼图</title>
	<script src="js/echarts.js"></script>
	<script src="js/jquery-3.2.1.min.js"></script>
</head>
<body>
	<!-- 图表容器 -->
	<div id="main" style="width: 900px;height: 600px;border: 1px solid red;"></div>
	<script type="text/javascript">
		
		//初始化图表控件
		var myChart = echarts.init(document.getElementById("main"));

		
		myChart.showLoading({
			text:'正在努力获取数据中...'		//loading
		});
		
		var data = {
			"legend":["直接访问",'营销广告','搜索引擎', "邮件营销", "联盟广告", "视频广告", "百度",'谷歌','必应','其他'],
			"series":[
				{"value":335,"name":"直接访问"},
				{"value":310,"name":"邮件营销"},
				{"value":234,"name":"联盟广告"},
				{"value":135,"name":"视频广告"},
				{"value":748,"name":"百度"},
				{"value":548,"name":"谷歌"},
				{"value":345,"name":"必应"},
				{"value":110,"name":"其他"}
			],
			"legend2":["直接访问", "营销广告", "搜索引擎"],
			"series2":[
				{"value":335,"name":"直接访问"},
				{"value":679,"name":"营销广告"},
				{"value":1751,"name":"搜索引擎"}
			],
		}


		//图表参数
		var option = {
		    title: {
		        text: "某站点用户访问来源",
		        x: "center"
		    },
		    tooltip: {
		        trigger: "item",
		        formatter: "{a} <br/>{b} : {c} ({d}%)"
		    },
		    legend: {
		        orient: "vertical",
		        x: "left",
		        data: data.legend
		    },
		    toolbox: {
		        show: true,
		        feature: {
		            mark: {
		                show: true
		            },
		            dataView: {
		                show: true,
		                readOnly: true
		            },
		            restore: {
		                show: true
		            },
		            saveAsImage: {
		                show: true
		            }
		        }
		    },
		    series: [
		        {
		            name: "访问来源",
		            type: "pie",
		            radius: "40%",
		            center: ["50%", "60%"],
		            selectedMode: 'single',
		            label:{
		            	normal:{
		            		position:'inner'
		            	}
		            },
		            data: data.series2
		        },
		        {
		            name: "访问来源2",
		            type: "pie",
		            radius: ["50%",'65%'],
		            center: ["50%", "60%"],
		            label:{
		            	normal:{
		            		formatter:'{a|{a}}{abg|}\n{hr|}\n {b|{b}:}{c} {per|{d}%}',
		            		//{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  
		            		backgroundColor:'#eee',
		            		borderColor:'#777',
		            		borderWidth:1,
		            		borderRadius:4,
		            		padding:[1,2,1,2],
		            		rich:{
		            			a:{
		            				color:'#aaa',
		            				lineHeight:22,
		            				align:'center'
		            			},
		            			hr:{
		            				borderColor:'#aaa',
		            				width:'100%',
		            				borderWidth:0.5,
		            				height:0
		            			},
		            			b:{
		            				fontSize:16,
		            				lineHeight:33
		            			},
		            			per:{
		            				color:'#eee',
		            				backgroundColor:'#334455',
		            				padding:[2,4],
		            				borderRadius:2
		            			}
		            		}
		            	}
		            },
		            data: data.series
		        }
		    ]
		};

		setTimeout(function(){
			myChart.setOption(option);
			myChart.hideLoading();
		},2000);
		

	</script>
</body>
</html>